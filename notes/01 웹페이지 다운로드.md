## 01 서버에 연결하기

- URL
  - 브라우저가 방문해야 할 특정 웹페이지를 식별
  - `http://exmple.org/index.html`
    - scheme : 어떻게 정보를 접근할 수 있는지를 설명 (`http`)
    - host: 어디에서 정보를 얻을 수 있는지를 설명 (`example.org`)
    - path: 무슨 정보를 얻을 것인지를 설명 (`/index.html`)
    - 이외에도 port, query, fragment
- 서버 연결 순서
  - 1️⃣ 브라우저가 운영체제에 호스트 이름에 해당하는 서버와 연결해달라고 요청
  - 2️⃣ 운영체제는 DNS 서버와의 통신을 통해 호스트 이름을 IP 주소로 변환
  - 3️⃣ 운영체제는 라우팅 테이블을 사용해 해당 IP 주소와 통신하기에 가장 적합한 장치를 결정하고 장치 드라이버를 사용해 신호를 보냄
  - 4️⃣ 라우터는 신호를 감지하고 메시지를 전달하기 위한 최적의 다음 라우터에 전송
  - 5️⃣ 일련의 라우터를 거친 뒤 메시지가 서버에 도착하면 해당 서버와 연결
    <br/>

## 02 정보 요청하기

- 연결이 되고 나면 브라우저는 URL의 경로 (`/index.html`)에 해당하는 정보를 요청 (request)

```
GET /index.html HTTP/1.0
Host: example.org
```

- HTTP 메서드 (`GET`): 서버에 정보를 요청
- 메서드 다음에 경로 (`/index.html`)를 명시하고, 사용 중인 프로토콜 (`HTTP/1.0`)을 표시
- 첫 번째 줄 이후에는 줄마다 이름과 값으로 이루어진 헤더 (header)
  - `Host` 헤더: 서버의 이름이 뭐라고 생각하는지 알려주는 헤더
- 마지막 헤더 후의 빈 줄: 호스트에 헤더가 끝났음을 알려줌
  <br/>

## 03 서버의 응답

```
HTTP/1.0 200 OK
```

- 호스트가 HTTP/1.0 프로토콜로 응답
- 요청에 대해 응답 코드가 200인 OK로 확인했음을 알려줌
  - 100번대: 정보 메시지
  - 200번대: 성공
  - 300번대: 후속 작업 필요
  - 400번대: 잘못된 요청 (브라우저 오류)
  - 500번대: 서버가 요청을 제대로 처리하지 못함 (서버 오류)
  - ❗ 오류의 원인이 브라우저인지 서버인지는 서버가 판단
- 200 OK 뒤에는 헤더를 보냄
  - 브라우저가 요청하는 정보: `Content-Type`, `Content-Length`, `Last-modified`, ...
  - 서버에 관한 정보: `Server`, `X-Cache`, ...
  - 브라우저가 이 정보를 캐시해야 하는 조건: `Cache-Control`, `Expires`, `Etag`, ...
- 바디: 헤더 뒤 빈 줄 후 HTML 코드

<br/>

## 04 파이썬을 통한 텔넷

- socket
  - 다른 컴퓨터와 대화하고 싶을 때 소켓을 만들어 정보를 주고받음
  - address family: 다른 컴퓨터를 찾는 방법
  - type: 어떤 종류의 대화가 이루어질지 설명
  - protoco: 두 컴퓨터가 연결을 설정하는 단계를 설명
    <br/>

## 07 암호화된 연결

- http에 비해 https가 더 안전함
  - HTTP over TLS: TCP와 HTTP 사이 TLS 레이어 추가
  - 브라우저와 호스트 간의 모든 통신이 암호화된다는 점을 제외하면 일반적인 http 스킴과 동일
  - 세부 사항: 암호화 알고리즘, 공통 암호화 키 합의 방식, 브라우저가 올바른 호스트에 연결된 것을 확인하는 방식
- 파이썬의 ssl 라이브러리가 https의 세부 사항을 구현

```python
import ssl

# 컨텍스트 ctx를 생성하여 소켓 s를 감싸기
# server_hostname: 올바른 서버에 연결했는지 확인 (Host 헤더와 일치해야 함)
ctx = ssl.create_default_context()
s = ctx.wrap_socket(s, server_hostname=host)
```
